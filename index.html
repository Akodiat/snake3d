<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>3d snake</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css">
    <style>
      body { margin: 0; height: 100%; width: 100%; position: fixed;}
      #qrcode {
          background: white;
          padding: 10px;
          width: fit-content;
      }
    </style>
    <script type="importmap">
    {
        "imports": {
            "three": "https://cdn.jsdelivr.net/npm/three@0.182.0/build/three.module.js",
            "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.182.0/examples/jsm/"
        }
    }
    </script>
  </head>
  <body>
    <dialog open id="startModal">
      <article>
        <header>
          <p>
            <strong>God jul Elion</strong> önskar Joakim med familj
          </p>
        </header>
        <p>
          Här kommer ett spel jag har gjort till dig. Det är att betrakta som "early-access än så länge",
          men tanken är att du kan komma med förslag på vad det skall innehålla och kanske till och med
          hjälpa till att koda det. Spelet är en 3D-version av Snake, du styr med WASD och kan också snurra med Q och A.
        </p>
        <button id="startButton">Start</button>
        <button class="secondary" id="startMultiPlayerButton">Start multiplayer</button>
      </article>
    </dialog>
    <dialog id="multiplayerClient">
      <article>
        <header>
          <p>
            <strong>Multiplayer client</strong>
          </p>
        </header>
        <p>
          <label>
          Player name
          <input
            id="multiplayerName"
            placeholder="Player name"
            autocomplete="given-name"
          />
        </label>
        </p>
        <button id="multiplayerClientConnectButton">Connect</button>
      </article>
    </dialog>
    <dialog id="multiplayerHost">
      <article>
        <header>
          <p>
            <strong>Multiplayer host</strong>
          </p>
        </header>
        <p id="multiplayerStatus"></p>
        <p id="qrcode"></p>
        <button hidden id="multiplayerHostStartButton">Start</button>
      </article>
    </dialog>
    <dialog id="gameOver">
      <article>
        <header>
          <p>
            <strong>Game over!</strong>
          </p>
        </header>
        <p id="gameOverText"></p>
        <label>
          Your name
          <input
            id="name"
            placeholder="Your name"
            autocomplete="given-name"
          />
        </label>
        <article>
          <h2>Top 5 games</h2>
          <p id="leaderBoard"></p>
        </article>
        <button id="retryButton">Retry</button>
      </article>
    </dialog>
    <canvas id="threeCanvas"></canvas>

    <script src="https://unpkg.com/peerjs@1.5.5/dist/peerjs.min.js"></script>
        <script src=" https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
    <script type="module" src="src/main.js"></script>
  </body>
</html